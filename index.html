<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Minecraft Server Finder</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #fafafa;
      color: #333;
    }
    header {
      background-color: #4CAF50;
      color: white;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
    }
    header nav a {
      color: white;
      text-decoration: none;
      margin-left: 20px;
      font-weight: bold;
    }
    main {
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
    }
    .filters {
      margin-bottom: 30px;
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .filters select, .filters input {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1rem;
    }
    .server-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px,1fr));
      gap: 20px;
    }
    .server-card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 20px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .server-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    .server-card h3 {
      margin-top: 0;
      color: #4CAF50;
    }
    .server-card p {
      margin: 6px 0;
    }
    .copy-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .copy-btn:hover {
      background-color: #388E3C;
    }
    footer {
      margin-top: 60px;
      text-align: center;
      padding: 20px;
      background-color: #4CAF50;
      color: white;
    }
    /* Popups */
    .popup {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #fff;
      border: 1px solid #4CAF50;
      color: #333;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
      max-width: 300px;
      font-size: 0.9rem;
      display: none;
      animation: fadeIn 0.6s ease forwards;
    }
    @keyframes fadeIn {
      from {opacity:0; transform: translateY(15px);}
      to {opacity:1; transform: translateY(0);}
    }
    .popup a {
      color: #4CAF50;
      font-weight: bold;
      text-decoration: none;
    }
    .popup a:hover {
      text-decoration: underline;
    }
    .popup .close-btn {
      background: none;
      border: none;
      color: #888;
      font-size: 1rem;
      cursor: pointer;
      float: right;
    }
  </style>
</head>
<body>

<header>
  <h1>Minecraft Server Finder</h1>
  <nav>
    <a href="hosting.html">Host a Minecraft Server</a>
  </nav>
</header>

<main>
  <div class="filters">
    <input type="text" id="searchInput" placeholder="Search by name or IP...">
    <select id="filterRegion">
      <option value="">All Regions</option>
      <option value="NA">North America</option>
      <option value="EU">Europe</option>
      <option value="AS">Asia</option>
      <option value="SA">South America</option>
    </select>
    <select id="filterType">
      <option value="">All Game Types</option>
      <option value="minigames">Minigames</option>
      <option value="survival">Survival</option>
      <option value="skyblock">Skyblock</option>
      <option value="pvp">PvP</option>
    </select>
    <button onclick="refreshServers()">Refresh Status</button>
  </div>

  <div id="serverList" class="server-list">
    <!-- Server cards will be dynamically inserted here -->
  </div>
</main>

<footer>
  <p>Â© 2025 Minecraft Server Finder | All rights reserved</p>
</footer>

<!-- Popups -->
<div id="popup1" class="popup">
  <button class="close-btn" onclick="closePopup('popup1')">âœ–</button>
  ðŸ’¬ Join our Discord Community:<br>
  <a href="https://dsc.gg/ispasyu" target="_blank">https://dsc.gg/ispasyu</a>
</div>

<div id="popup2" class="popup" style="bottom: 140px;">
  <button class="close-btn" onclick="closePopup('popup2')">âœ–</button>
  âš¡ The Best Hosting for Bots, Websites, and Minecraft Servers:<br>
  <a href="https://www.ovhcloud.com/" target="_blank">OVHCloud</a>
</div>

<script>
  // sample server data list
  const servers = [
    { name: "Hypixel Network", ip: "play.hypixel.net", region:"NA", type:"minigames" },
    { name: "JartexNetwork", ip: "play.jartexnetwork.com", region:"NA", type:"skyblock" },
    { name: "Blockdrop Network", ip: "mc.blockdrop.org", region:"EU", type:"survival" },
    { name: "MineSuperior", ip: "play.minesuperior.net", region:"EU", type:"pvp" },
    // you can add more servers here
  ];

  const serverListEl = document.getElementById('serverList');
  const searchInput = document.getElementById('searchInput');
  const filterRegionEl = document.getElementById('filterRegion');
  const filterTypeEl = document.getElementById('filterType');

  function displayServers(list) {
    serverListEl.innerHTML = '';
    list.forEach(s => {
      const card = document.createElement('div');
      card.className = 'server-card';
      card.innerHTML = `
        <h3>${s.name}</h3>
        <p><strong>IP:</strong> ${s.ip} <button class="copy-btn" onclick="copyIP('${s.ip}')">Copy</button></p>
        <p><strong>Region:</strong> ${s.region}</p>
        <p><strong>Game Type:</strong> ${capitalize(s.type)}</p>
        <p id="status-${s.ip}"><em>Loading status...</em></p>
      `;
      serverListEl.appendChild(card);
      fetchStatus(s.ip);
    });
  }

  function copyIP(ip) {
    navigator.clipboard.writeText(ip)
      .then(() => alert(`Copied IP: ${ip}`))
      .catch(err => console.error("Copy failed", err));
  }

  function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }

  function applyFilters() {
    const searchVal = searchInput.value.toLowerCase();
    const regionVal = filterRegionEl.value;
    const typeVal = filterTypeEl.value;

    const filtered = servers.filter(s => {
      const matchSearch = s.name.toLowerCase().includes(searchVal) || s.ip.toLowerCase().includes(searchVal);
      const matchRegion = regionVal === "" || s.region === regionVal;
      const matchType = typeVal === "" || s.type === typeVal;
      return matchSearch && matchRegion && matchType;
    });
    displayServers(filtered);
  }

  searchInput.addEventListener('input', applyFilters);
  filterRegionEl.addEventListener('change', applyFilters);
  filterTypeEl.addEventListener('change', applyFilters);

  function fetchStatus(ip) {
    const statusEl = document.getElementById(`status-${ip}`);
    fetch(`https://api.mcsrvstat.us/3/${ip}`, {
      headers: { "User-Agent": "YourAppNameHere" }
    }).then(res => res.json())
    .then(data => {
      if (!data.online) {
        statusEl.innerHTML = `<strong>Status:</strong> Offline`;
      } else {
        statusEl.innerHTML = `
          <strong>Status:</strong> Online <br>
          <strong>Version:</strong> ${data.version || "unknown"} <br>
          <strong>Players:</strong> ${data.players?.online ||0} / ${data.players?.max || "?"}
        `;
      }
    }).catch(err => {
      statusEl.innerHTML = `<strong>Status:</strong> Error fetching`;
      console.error(err);
    });
  }

  function refreshServers() {
    applyFilters();
  }

  function closePopup(id) {
    document.getElementById(id).style.display = 'none';
  }

  setTimeout(() => document.getElementById('popup1').style.display = 'block', 3000);
  setTimeout(() => document.getElementById('popup2').style.display = 'block', 8000);

  // initial display
  displayServers(servers);
</script>

</body>
</html>
